{"ast":null,"code":"import _slicedToArray from\"C:/Users/esaul/Desktop/ToDolist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import Axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),EmailReg=_useState2[0],setEmailReg=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pwdReg=_useState4[0],setPwdReg=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),EmailCheck=_useState6[0],setEmailCheck=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),pwdCheck=_useState8[0],setPwdCheck=_useState8[1];Axios.defaults.withCredentials=true;var register=function register(){Axios.post('https://todoserver.herokuapp.com/register',{email:EmailReg,hashpassword:pwdReg}).then(function(response){console.log(response);});};var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),loginStatus=_useState10[0],setLoginStatus=_useState10[1];var login=function login(){Axios.post('https://todoserver.herokuapp.com/login',{email:EmailCheck,hashpassword:pwdCheck}).then(function(response){if(response.data.message){setLoginStatus(response.data.message);}else{setLoginStatus(response.data[0].email);}});};useEffect(function(){Axios.get('https://todoserver.herokuapp.com/login',{email:EmailCheck,hashpassword:pwdCheck}).then(function(response){if(response.data.loggedIn===true){setLoginStatus(response.data.user[0].email);}});},[]);var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),show=_useState12[0],setshow=_useState12[1];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"current\",children:[\"Currently Logged in as: \",loginStatus]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login: \"}),/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){setEmailCheck(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){setPwdCheck(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Need to register?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setshow(true);},children:\"Click here\"})]}),show&&/*#__PURE__*/_jsxs(\"div\",{className:\"signup\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registration\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){setEmailReg(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){setPwdReg(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:register,children:\"Register\"})]})]});}export default Login;","map":{"version":3,"names":["useState","useEffect","Axios","Login","EmailReg","setEmailReg","pwdReg","setPwdReg","EmailCheck","setEmailCheck","pwdCheck","setPwdCheck","defaults","withCredentials","register","post","email","hashpassword","then","response","console","log","loginStatus","setLoginStatus","login","data","message","get","loggedIn","user","show","setshow","e","target","value"],"sources":["C:/Users/esaul/Desktop/ToDolist/client/src/Login.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nfunction Login() {\r\n\tconst [EmailReg, setEmailReg] = useState('');\r\n\tconst [pwdReg, setPwdReg] = useState('');\r\n\tconst [EmailCheck, setEmailCheck] = useState('');\r\n\tconst [pwdCheck, setPwdCheck] = useState('');\r\n\tAxios.defaults.withCredentials = true;\r\n\r\n\tconst register = () => {\r\n\t\tAxios.post('https://todoserver.herokuapp.com/register', { email: EmailReg, hashpassword: pwdReg, }).then((response) => {\r\n\t\t\tconsole.log(response);\r\n\t\t})\r\n\t}\r\n\tconst [loginStatus, setLoginStatus] = useState('');\r\n\r\n\tconst login = () => {\r\n\t\tAxios.post('https://todoserver.herokuapp.com/login', {\r\n\t\t\temail: EmailCheck,\r\n\t\t\thashpassword: pwdCheck,\r\n\t\t}).then((response) => {\r\n\t\t\tif (response.data.message) {\r\n\t\t\t\tsetLoginStatus(response.data.message)\r\n\t\t\t} else {\r\n\t\t\t\tsetLoginStatus(response.data[0].email);\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tAxios.get('https://todoserver.herokuapp.com/login',{\r\n\t\t\temail: EmailCheck,\r\n\t\t\thashpassword: pwdCheck,\r\n\t\t}).then((response) => {\r\n\t\t\tif (response.data.loggedIn === true) {\r\n\t\t\t\tsetLoginStatus(response.data.user[0].email)\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}, [])\r\n\r\n\tconst [show, setshow] = useState(false);\r\n\r\n\treturn (\r\n\r\n\t\t<div>\r\n\t\t\t<h2 className=\"current\">Currently Logged in as: {loginStatus}</h2>\r\n\r\n\t\t\t<div className=\"login\">\r\n\t\t\t\t<h2>Login: </h2>\r\n\t\t\t\t<label >Email: </label>\r\n\t\t\t\t<input type=\"text\" onChange={(e) => { setEmailCheck(e.target.value) }} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<label >Password: </label>\r\n\t\t\t\t<input type=\"password\" onChange={(e) => { setPwdCheck(e.target.value) }} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<button onClick={login}>Login</button>\r\n\t\t\t\t<br />\r\n\t\t\t\t<p>Need to register?</p>\r\n\t\t\t\t<button onClick={()=>setshow(true)}>Click here</button>\r\n\t\t\t</div>\r\n\t\t\t{ show &&\r\n\t\t\t\t<div className=\"signup\">\r\n\t\t\t\t\t<h2>Registration</h2>\r\n\t\t\t\t\t<label >Email: </label>\r\n\t\t\t\t\t<input type=\"text\" onChange={(e) => { setEmailReg(e.target.value) }} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label >Password: </label>\r\n\t\t\t\t\t<input type=\"password\" onChange={(e) => { setPwdReg(e.target.value) }} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<button onClick={register}>Register</button>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\r\n\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}